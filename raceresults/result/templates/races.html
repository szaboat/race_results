{% extends 'layout.html' %}

{% block header %}
    <h1>Events</h1>
    <p class="lead">
        Race and event calendar.
    </p>
{% endblock %}}

{% block content %}
    {% if types %}
        <ul class="list-inline">
            <li><a href="/races/all/"><span class="label label-default">ALL EVENTS</span></a></li>
            {% for type in types %}
                <li><a href="/races/{{ type.0|lower }}/"><span class="label label-default {{type.0|lower }}">{{ type.0 }}</span></a></li>
            {% endfor %}
        </ul>
    {% endif %}

    <table class="table table-hover">
        <thead>
            <tr>
                <th class="col-md-3">Name</th>
                <th class="col-md-2">Series</th>
                <th class="col-md-3">Location</th>
                <th class="col-md-1">Type</th>
                <th class="col-md-2">Date</th>
            </tr>
        </thead>
        {% for race in races %}
            <tr>
                <td class="col-md-5"><a href="/2016/{{ race.short_name }}/">{{ race.name }}</a> <a href="{{ race.url }}"><span class="glyphicon glyphicon-link" aria-hidden="true"></span></a></td>
                <td>{{ race.series|default:'' }}</td>
                <td>{{ race.location }}</td>
                <td class="col-md-1"><span class="label label-default {{ race.type|lower }}">{{ race.type }}</span></td>
                <td>{{ race.date|date:"Y-m-d" }} {% if race.days_to_race >= 0 %}<i>in {{ race.days_to_race }} days</i>{% endif %}</td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}